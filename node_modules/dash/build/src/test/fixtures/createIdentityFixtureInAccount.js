"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.createIdentityFixtureInAccount = void 0;
var IdentityPublicKey_1 = __importDefault(require("@dashevo/dpp/lib/identity/IdentityPublicKey"));
// @ts-ignore
var getIdentityFixture = require('@dashevo/dpp/lib/test/fixtures/getIdentityFixture');
function createIdentityFixtureInAccount(account) {
    var identityFixture = getIdentityFixture();
    var identityFixtureIndex = 10000;
    var identityPrivateKey = account.identities.getIdentityHDKeyByIndex(identityFixtureIndex, 0).privateKey;
    identityFixture.publicKeys[0] = new IdentityPublicKey_1.default({
        id: 0,
        type: IdentityPublicKey_1.default.TYPES.ECDSA_SECP256K1,
        data: identityPrivateKey.toPublicKey().toBuffer(),
    });
    account.storage.insertIdentityIdAtIndex(account.walletId, identityFixture.getId().toString(), identityFixtureIndex);
    return identityFixture;
}
exports.createIdentityFixtureInAccount = createIdentityFixtureInAccount;
//# sourceMappingURL=createIdentityFixtureInAccount.js.map